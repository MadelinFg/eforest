<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">

{{#if is_transparent}}
  <div class="header-wrapper header-wrapper--fixed {{headerAdditionalClasses}} header-wrapper--transparent haeder-wrapper-with-transparent" id="header-wrapper" data-ms-theme="legend">
{{else}}
  <div class="header-wrapper header-wrapper--fixed {{headerAdditionalClasses}}" id="header-wrapper" data-ms-theme="legend">
{{/if}}
    {{#if flash.enabled}}
    {{> components/flash}}
  {{/if}}
  {{> components/cookieDisclaimer}}
  <header role="banner" class="nav-default-header header--custom-background" itemtype="http://schema.org/Store" itemid="#this" itemscope="">
    <!-- Mobile responsive menu -->
    {{#if logo}}
    <div itemscope itemtype="http://schema.org/SiteNavigationElement" class="nav-menu-with-image nav-default-sidebar-menu nav-default-responsive-menu header--custom-background" id="responsive-menu">
    {{else}}
    <div itemscope itemtype="http://schema.org/SiteNavigationElement" class="nav-default-sidebar-menu nav-default-responsive-menu header--custom-background" id="responsive-menu">
    {{/if}}

      <div class="close-sidebar-button">
        <input type="checkbox" id="nav-default__close-sidebar-button" class="nav-default__close-sidebar-button" name="nav-tools-header__menu-switch">
        <label for="nav-default__close-sidebar-button" id="close-sidebar-button">
          <span class="nav-header__close-sidebar-button nav-header__hamburger"></span>
          <span class="nav-header__close-sidebar-button nav-header__hamburger"></span>
        </label>
      </div>
      <form class="nav-default-search-form header--custom-border" id="search-form-responsive" novalidate="">
        <button type="submit" class="search-button">
          {{> legend/views/partials/search}}
        </button>
        <input type="text" placeholder="{{i18n.smallPlaceholder}}" class="header--custom-text" id="search-input-responsive" required="" autocomplete="off">
      </form>

      <ul class="responsive-menu-list">
        {{#if sale.text}}
          <li class="nav-default-list--vertical__item nav-default__sale-link header--custom-border">
            <a href="{{sale.url}}" class="header--custom-text">{{sale.text}}</a>
          </li>
          <li class="nav-default-list__item nav-default__hamburger-button" id="nav-default__hamburger-button"></li>
        {{/if}}

        {{#each menu}}
          <li class="nav-default-list--vertical__item">
            <a href="{{this.url}}" class="header--custom-text">{{this.name}}</a>
            {{!-- {{#if this.nodes}}
              <div>
                <input type="checkbox" data-js="categories-toggle" id="mobile-{{@index}}" name="nav-tools-header__menu-switch">
                <label for="mobile-{{@index}}" class="toggle-menu">
                  <span class="nav-header__toggle nav-header__hamburger"></span>
                  <span class="nav-header__toggle nav-header__hamburger"></span>
                </label>
              </div>
            {{/if}} --}}
          </li>
          {{!-- <div class="nav-default-list--vertical__subitem-container" data-toggle="mobile-{{@index}}" >
            {{#each this.nodes}}
              <li class="nav-default-list--vertical__subitem">
                <a href="{{this.url}}" class="header--custom-text">{{this.name}}</a>
                {{#if this.nodes}}
                  <div>
                    <input type="checkbox" data-js="categories-toggle" id="mobile-attr-{{@../index}}-{{@index}}" name="nav-tools-header__menu-switch">
                    <label for="mobile-attr-{{@../index}}-{{@index}}" class="toggle-menu">
                      <span class="nav-header__toggle nav-header__hamburger"></span>
                      <span class="nav-header__toggle nav-header__hamburger"></span>
                    </label>
                  </div>
                {{/if}}
              </li>
              <div class="nav-default-list--vertical__attr-container" data-toggle="mobile-attr-{{@../index}}-{{@index}}">
                {{#each this.nodes}}
                  <li class="nav-default-list--vertical__attribute">
                    <a href="{{this.url}}" class="header--custom-text">{{this.name}}</a>
                  </li>
                {{/each}}
              </div>
            {{/each}}
          </div> --}}
          <hr class="nav-default-list--vertical__hr header--custom-border" /> 
        {{/each}}
        
        <li class="nav-default-list--vertical__item">
          <a href="/" class="header--custom-text">Marcas</a>
            <div>
              <input type="checkbox" data-js="categories-toggle" id="mobile-10" name="nav-tools-header__menu-switch">
              <label for="mobile-10" class="toggle-menu">
                <span class="nav-header__toggle nav-header__hamburger"></span>
                <span class="nav-header__toggle nav-header__hamburger"></span>
              </label>
            </div>
        </li>
        <div class="nav-default-list--vertical__subitem-container" data-toggle="mobile-10" >
            <li class="nav-default-list--vertical__subitem">
              <a href="/_BRAND_16599" class="header--custom-text">AIWA</a>
            </li>
        </div>
        <hr class="nav-default-list--vertical__hr header--custom-border" /> 

        <li class="nav-default-list--vertical__item how-buy__button how-buy-button__mobile" data-js="how-buy__button">
          <a href="{{linkToHowBuy.href}}" class="header--custom-text">{{linkToHowBuy.label}}</a>
        </li>
      </ul>
    </div>

    <!-- Desktop -->
    <div class="nav-default-header__bounds">
      <div id="logo-icon-container">
        <!-- Logo -->
        <div class="nav-default-header__title">
          {{#if logo}}
            <a class="nav-default-header__logo" href="/" id="logo-wrapper">
              <span class="nav-header__title-hidden">{{shop.name}}</span>
              <img class="nav-header__image" src="{{logo}}" alt="{{shop.name}}" itemprop="logo" />
            </a>
          {{else}}
            <div class="nav-default-header__shop-name header--custom-title-container">
              <a class="header--custom-title" href="/" id="logo-wrapper">{{name}}</a>
            </div>
          {{/if}}
        </div>

        <!-- Buscador -->
        <div class="nav-default-header__nav-icons">
          <form class="nav-search-form" id="search-form" novalidate="">
            <input type="text" class="nav-search-input header--custom-border header--custom-text" placeholder="{{i18n.smallPlaceholder}}" id="search-input" required="" autocomplete="off">
            <button type="submit" class="search-button" id="nav-search-button">
              {{> legend/views/partials/search}}
            </button>
          </form>
        </div>

        <!-- Icons -->
        <nav class="nav-default-header__nav-icons" id="nav-default-header__nav-icons">
          <div class="nav-icons-group">
            {{#if cart}}
              <a href="{{cart.href}}" title="Carrito" class="cart-button" id="nav-cart">
                {{> legend/views/partials/cart}}
                {{> legend/views/partials/cart-badge}}
              </a>
            {{/if}}
            {{#if sale.text}}
              <li class="nav-default-list__item nav-default__sale-link" id="nav-default__sale-link" style="width: 100px; margin: auto; justify-content: center; text-align: center;">
                <a href="{{sale.url}}" class="header--custom-text">{{sale.text}}</a>
              </li>
            {{/if}}
          </div>
        </nav>
      </div>

      <!-- Categories -->
      <div>
        <!-- Desktop -->
        <div id="desktop-menu-container">
          <ul itemscope itemtype="http://schema.org/SiteNavigationElement" class="nav-list nav-list--horizontal header--custom-text header--custom-border" id="desktop-menu">
              {{#each menu}}
                  <li class="nav-list__item category category-{{@index}}" itemprop="name" tools-custom-data-emitter="{{@index}}">
                      <a href="{{this.url}}" class="nav-list__link">{{this.name}}</a>
                      {{#if this.nodes}}
                      <ul class="grid-list subcategories-{{@index}}">
                          {{#each this.nodes}}
                          <li class="nav-tools-list--vertical__subitem header--custom-text">
                              <a href="{{this.url}}" class="">{{this.name}}</a>
                          </li>
                          {{/each}}
                      </ul>
                      {{/if}}
                  </li>
              {{/each}}
              <li class="nav-list__item category category-9" tools-custom-data-emitter="9">
                  <a href="" class="nav-list__link">Marcas</a>
                  <ul class="grid-list subcategories-9">
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_16599" class="">AIWA</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_7294334" class="">Asus</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_49944" class="">HP</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_448156" class="">Hyperx </a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_17265" class="">JBL</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_16739" class="">LEXAR</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_215" class="">LG</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_15788" class="">Logitech</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_206" class="">Samsung</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_16244" class="">Sandisk</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_9593" class="">WD</a>
                      </li>
                      <li class="nav-tools-list--vertical__subitem header--custom-text">
                          <a href="/_BRAND_59387" class="">XIAOMI</a>
                      </li>
                  </ul>
              </li>
          </ul>
        </div>

        <!-- Mobile -->
        <ul itemscope itemtype="http://schema.org/SiteNavigationElement" class="nav-default-list" id="nav-list">
          <li class="nav-default-list__item nav-default__hamburger-button" id="nav-default__hamburger-button">
            <input type="checkbox" id="mobile-categories-menu-switch" name="nav-tools-header__menu-switch">
            <label for="mobile-categories-menu-switch" id="hamburguer-menu">
              <span class="nav-header__hamburger"></span>
              <span class="nav-header__hamburger"></span>
              <span class="nav-header__hamburger"></span>
            </label>
            {{#if  menu_labels.menu}}
              <span class="nav-default-header__menu-labels nav-label-menu header--custom-text">{{menu_labels.menu}}</span>
            {{/if}}
          </li>

          {{#each menu}}
            <li class="nav-default-list__item" data-js="{{this.name}}-{{@index}}" has-childs={{this.nodes}}>
              <a href="{{this.url}}">
                <span class="header--custom-text">{{this.name}}</span>
              </a>
            </li>
          {{/each}}
        </ul>
      </div>
    </div>

    <!-- Popover -->
    <div itemscope itemtype="http://schema.org/SiteNavigationElement" id="popover-menu" class="header--custom-background">
      <!-- Categories -->
      <div class="nav-bounds nav-default-desktop-categories-popover">
        {{#each menu}}
          <div class="nav-default-list--horizontal__item" data-toggle="{{this.name}}-{{@index}}">
            <li class="nav-default-list--horizontal__category header--custom-text">
              <a href="{{this.url}}">{{this.name}}</a>
              <hr class="nav-default-list--vertical__hr header--custom-border" />
            </li>
            {{#each this.nodes}}
            <div class="nav-default-list--horizontal__subitem">
              <li class="header--custom-text">
                <a href="{{this.url}}">{{this.name}}</a>
              </li>
              <div class="nav-default-list--horizontal__attr-container">
                {{#each this.nodes}}
                <li class="nav-default-list--horizontal__attribute header--custom-text">
                  <a href="{{this.url}}">{{this.name}}</a>
                </li>
                {{/each}}
              </div>
            </div>
            {{/each}}
          </div>
        {{/each}}
      </div>
      <!-- See more -->
      <div class="nav-bounds nav-default-desktop-see-more-popover" id="nav-popover-list">
        {{#each menu}}
        <div class="nav-default-list--horizontal__item" data-toggle="see-more">
          <li class="nav-default-list--horizontal__category header--custom-text">
            <a href="{{this.url}}">{{this.name}}</a>
            <hr class="nav-default-list--vertical__hr header--custom-border" />
          </li>
          <div>
            {{#each this.nodes}}
            <li class="nav-default-list--horizontal__subitem header--custom-text">
              <a href="{{this.url}}">{{this.name}}</a>
            </li>
            <div class="nav-default-list--horizontal__attr-container">
              {{#each this.nodes}}
              <li class="nav-default-list--horizontal__attribute header--custom-text">
                <a href="{{this.url}}">{{this.name}}</a>
              </li>
              {{/each}}
            </div>
            {{/each}}
          </div>
        </div>
        {{/each}}
      </div>
    </div>
  </header>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
  $(window).on('load', function () {
    let index;
    $( "li.category" ).mouseenter(function() {
      index = $(this)[0].classList[2].slice(-1)
      $(".subcategories-"+index).show()
    });
    $( "li.category" ).mouseleave(function() {
      index = $(this)[0].classList[2].slice(-1)
      $(".subcategories-"+index).hide()
    });
    $( "ul.grid-list" ).mouseleave(function() {
      index = $(this).parent()[0].classList[2].slice(-1)
      $(".subcategories-"+index).hide()
    });
  });
</script>